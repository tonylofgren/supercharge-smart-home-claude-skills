# Generated by esphome@aurora-smart-home v1.0.0
# https://github.com/tonylofgren/aurora-smart-home
#
# ESPHome Template - IR Remote Hub
# Universal IR transmitter/receiver for controlling TVs, ACs, etc.

substitutions:
  device_name: "ir-remote-hub"
  friendly_name: "IR Remote Hub"

esphome:
  name: ${device_name}
  friendly_name: ${friendly_name}

esp32:
  board: esp32dev

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password
  ap:
    ssid: "${device_name}-fallback"

captive_portal:

api:
  encryption:
    key: !secret api_encryption_key

ota:
  - platform: esphome
    password: !secret ota_password

logger:

# IR Transmitter (connect IR LED to GPIO5 via transistor)
remote_transmitter:
  pin: GPIO5
  carrier_duty_percent: 50%

# IR Receiver (TSOP38238 or VS1838B)
remote_receiver:
  pin:
    number: GPIO14
    inverted: true
    mode:
      input: true
      pullup: true
  dump: all  # Enable to learn codes, disable in production

# ===== TV CONTROLS =====
# Modify addresses/commands for your TV

button:
  - platform: template
    name: "TV Power"
    icon: "mdi:power"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E040BF

  - platform: template
    name: "TV Volume Up"
    icon: "mdi:volume-plus"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E0E01F

  - platform: template
    name: "TV Volume Down"
    icon: "mdi:volume-minus"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E0D02F

  - platform: template
    name: "TV Mute"
    icon: "mdi:volume-mute"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E0F00F

  - platform: template
    name: "TV Channel Up"
    icon: "mdi:chevron-up"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E048B7

  - platform: template
    name: "TV Channel Down"
    icon: "mdi:chevron-down"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E008F7

  - platform: template
    name: "TV Source"
    icon: "mdi:video-input-hdmi"
    on_press:
      - remote_transmitter.transmit_samsung:
          data: 0xE0E0807F

# ===== AC CONTROL =====
# Uncomment and configure for your AC brand

# climate:
#   - platform: coolix
#     name: "AC"
#     supports_heat: true
#     supports_cool: true

# Alternative AC brands (uncomment one):
# - platform: daikin
# - platform: mitsubishi
# - platform: fujitsu_general
# - platform: lg
# - platform: samsung_ac
# - platform: toshiba
# - platform: gree

# ===== CUSTOM RAW CODE =====
# For learned codes that don't match known protocols

#  - platform: template
#    name: "Custom Device"
#    on_press:
#      - remote_transmitter.transmit_raw:
#          carrier_frequency: 38kHz
#          code: [9000, -4500, 560, -1690, 560, -560, ...]

# ===== DIAGNOSTICS =====
sensor:
  - platform: wifi_signal
    name: "WiFi Signal"
    update_interval: 60s
    entity_category: diagnostic

  - platform: uptime
    name: "Uptime"
    entity_category: diagnostic

text_sensor:
  - platform: version
    name: "ESPHome Version"
    entity_category: diagnostic

binary_sensor:
  - platform: status
    name: "Status"

button:
  - platform: restart
    name: "Restart"
    entity_category: config

# Status LED
status_led:
  pin:
    number: GPIO2
    inverted: true
